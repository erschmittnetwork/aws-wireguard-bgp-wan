%% diagrams/logical-architecture.mmd
graph TD
  subgraph Sites["Spoke Sites (VMware / Ubuntu 24.04 LTS)"]
    SITE1["SITE1-LF1 (Spoke)"]
    SITE2["SITE2-LF1 (Spoke)"]
    SITE3["SITE3-LF1 (Spoke)"]
  end

  subgraph AWS["AWS VPC (us-east-1)"]
    HUB["DC1 Hub (EIP-associated)\nDC1-SP1 active OR DC1-SP2 standby"]
    HUB2["DC1-SP2 (Standby)\nAssumes EIP on failover"]
  end

  SITE1 -->|"WireGuard underlay\nBGP overlay"| HUB
  SITE2 -->|"WireGuard underlay\nBGP overlay"| HUB
  SITE3 -->|"WireGuard underlay\nBGP overlay"| HUB

  HUB -->|"AWS automation:\nEventBridge + Lambda\n(EIP reassociation)"| HUB2
